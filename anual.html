<!doctype html>
<html lang="es-UY">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Comparador anual - UTE 2026</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="container">
    <header class="header">
      <div>
        <h1>Comparador anual (12 meses)</h1>
        <p class="muted">Ranking de tarifas + ahorro vs tarifa base</p>
      </div>

      <nav class="tabs">
        <a class="tab" href="./index.html">Inicio</a>
        <a class="tab" href="./mensual.html">Mensual</a>
        <a class="tab active" href="./anual.html">Anual</a>
      </nav>
    </header>

    <div id="warnBox" class="warn" style="display:none;"></div>

    <section class="card">
      <div class="row">
        <div>
          <label>Tarifa base (actual) para comparar ahorro</label>
          <select id="tarifaBaseSelect"></select>
        </div>

        <div>
          <label>Formato de consumos que vas a ingresar</label>
          <select id="tipoDatoConsumo">
            <option value="total">Total mensual (kWh)</option>
            <option value="doble">Doble horario (Punta / Fuera Punta)</option>
            <option value="triple">Triple horario (Punta / Llano / Valle)</option>
          </select>
        </div>
      </div>

      <div class="block">
        <h2>Tarifas a comparar</h2>
        <div id="tarifasChecklist" class="checkGrid"></div>
      </div>

      <div class="block">
        <h2>Parámetros fijos del año</h2>
        <p class="muted small">
          Para el comparador anual rápido, la potencia y la reactiva se toman constantes durante el año.
        </p>

        <div class="row">
          <div>
            <label>Energía reactiva (kVArh) (si aplica)</label>
            <input id="anualKvarh" type="number" min="0" step="0.01" value="0" />
          </div>
          <div>
            <label>Período Zafral (solo TZ)</label>
            <select id="anualTzPeriodo">
              <option value="zafra">Zafra (Nov–Mar)</option>
              <option value="fuera">Fuera de zafra (Abr–Oct)</option>
            </select>
          </div>
        </div>

        <details class="details">
          <summary><b>Potencias (solo si comparás MC / GC / TZ)</b></summary>

          <div class="row">
            <div>
              <label>MC1: Contratada P-LL (kW)</label>
              <input id="anual_mc_contrPL" type="number" min="0" step="0.1" value="0" />
            </div>
            <div>
              <label>MC1: Contratada Valle (kW)</label>
              <input id="anual_mc_contrV" type="number" min="0" step="0.1" value="0" />
            </div>
          </div>

          <div class="row">
            <div>
              <label>MC1: Leída P-LL (kW)</label>
              <input id="anual_mc_leidaPL" type="number" min="0" step="0.1" value="0" />
            </div>
            <div>
              <label>MC1: Leída Valle (kW)</label>
              <input id="anual_mc_leidaV" type="number" min="0" step="0.1" value="0" />
            </div>
          </div>

          <div class="row">
            <div>
              <label>MC2/MC3/GC: Contratada Punta (kW)</label>
              <input id="anual_mc3_contrP" type="number" min="0" step="0.1" value="0" />
            </div>
            <div>
              <label>MC2/MC3/GC: Contratada Llano (kW)</label>
              <input id="anual_mc3_contrL" type="number" min="0" step="0.1" value="0" />
            </div>
          </div>

          <div class="row">
            <div>
              <label>MC2/MC3/GC: Contratada Valle (kW)</label>
              <input id="anual_mc3_contrV" type="number" min="0" step="0.1" value="0" />
            </div>
            <div></div>
          </div>

          <div class="row">
            <div>
              <label>MC2/MC3/GC: Leída Punta (kW)</label>
              <input id="anual_mc3_leidaP" type="number" min="0" step="0.1" value="0" />
            </div>
            <div>
              <label>MC2/MC3/GC: Leída Llano (kW)</label>
              <input id="anual_mc3_leidaL" type="number" min="0" step="0.1" value="0" />
            </div>
          </div>

          <div class="row">
            <div>
              <label>MC2/MC3/GC: Leída Valle (kW)</label>
              <input id="anual_mc3_leidaV" type="number" min="0" step="0.1" value="0" />
            </div>
            <div></div>
          </div>

          <div class="row">
            <div>
              <label>TZ: Contratada P-LL (kW)</label>
              <input id="anual_tz_contrPL" type="number" min="0" step="0.1" value="0" />
            </div>
            <div>
              <label>TZ: Contratada Valle (kW)</label>
              <input id="anual_tz_contrV" type="number" min="0" step="0.1" value="0" />
            </div>
          </div>

          <div class="row">
            <div>
              <label>TZ: Leída P-LL (kW)</label>
              <input id="anual_tz_leidaPL" type="number" min="0" step="0.1" value="0" />
            </div>
            <div>
              <label>TZ: Leída Valle (kW)</label>
              <input id="anual_tz_leidaV" type="number" min="0" step="0.1" value="0" />
            </div>
          </div>
        </details>
      </div>

      <div class="block">
        <h2>Consumos mensuales (12 meses)</h2>
        <div class="tableWrap">
          <table class="table" id="anualTable"></table>
        </div>
      </div>

      <div class="actions">
        <button id="calcAnualBtn" class="btn">Calcular ranking anual</button>
      </div>

      <section id="anualResultCard" class="result" style="display:none;">
        <h2>Ranking anual</h2>
        <div class="tableWrap">
          <table class="table">
            <thead>
              <tr>
                <th>Tarifa</th>
                <th class="right">Total anual</th>
                <th class="right">Ahorro vs base</th>
              </tr>
            </thead>
            <tbody id="anualResultBody"></tbody>
          </table>
        </div>
        <p class="muted small" id="anualNota"></p>
      </section>
    </section>
  </div>

  <script src="./core-calculo.js?v=1"></script>
  <script src="./app-anual.js?v=1"></script>
</body>
</html>
